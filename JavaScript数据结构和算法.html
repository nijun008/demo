<!DOCTYPE html>
<html>
<head>
  <title>javaScript数据结构和算法</title>
</head>
<body>

  <script type="text/javascript">

  // 进制转换
  function baseFn (num, base) {
    if (!num || !base) {
      throw 'arg must Number'
    }
    let stack = []
    let rem
    let baseString = ''
    let digits = '0123456789ABCDEF'
    while (num > 0) {
      rem = Math.floor(num % base)
      stack.push(rem)
      num = Math.floor(num / base)
    }

    while (stack.length > 0) {
      baseString += digits[stack.pop()]
    }

    return baseString
  }

  console.log(baseFn(1000, 10))


  //队列,先入后出
  function Queue() {
    let items = []

    this.enqueue = function (element) {
      items.push(element)
    }

    this.dequeue = function () {
      return items.shift()
    }

    this.front = function () {
      return items[0]
    }

    this.isEmpty = function () {
      return items.length === 0
    }

    this.size = function () {
      return items.length
    }

    this.print = function () {
      console.log(items.toString())
    }
  }

  let queue = new Queue()

  console.log(queue.isEmpty())

  queue.enqueue('Join')

  queue.print()

  queue.enqueue('Jack')
  queue.enqueue('Canmila')

  queue.print()

  queue.dequeue()
  queue.print()


  // 栈
  class Stack {
    constructor() {
      this.items = []
    }

    push(item) {
      this.items.push(item)
    }
    pop() {
      return this.items.pop()
    }
    peek() {
      return this.items[this.item.length - 1]
    }
    isEmpty() {
      return this.items.length === 0
    }
    size() {
      return this.items.length
    }
    clear() {
      this.items = []
    }
  }
  // 栈应用, 进制转换
  function numBaseTrans(decNum, base) {
    if (base < 2 || base > 36) return ''
    const numStack = new Stack()
    let number = decNum
    let rem
    let result = ''
    let formartSrt = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'

    while(number > 0) {
      rem = Math.floor(number % base)
      numStack.push(rem)
      number = Math.floor(number / base)
    }

    while(!numStack.isEmpty()) {
      result += formartSrt[numStack.pop()]
    }

    return result
  }

  console.log(numBaseTrans(98151, 2))
  console.log(numBaseTrans(512351, 16))

  // 对象实现双端队列
  class DouQueue {
    constructor () {
      this.items = {}
      this.count = 0
      this.lowCount = 0
    }

    addBack(item) {
      this.items[this.count] = item
      this.count ++
    }

    removeBack() {
      if (this.isEmpty()) return undefined
      const result = this.items[this.count - 1]
      delete this.items[this.count - 1]
      return result
    }

    peekBack() {
      if (this.isEmpty()) return undefined
      return this.items[this.count - 1]
    }

    addFront(item) {
      if (this.isEmpty()) {
        this.addBack(item)
      } else if (this.lowCount > 0) {
        this.lowCount --
        this.items[this.lowCount] = item
      } else {
        for(let i = this.count; i > 0; i --) {
          this.items[i] = this.items[i - 1]
        }
        this.count ++
        this.lowCount = 0
        this.items[0] = item
      }
    }

    removeFront() {
      if (this.isEmpty()) return undefined
      const result = this.items[this.lowCount]
      delete this.items[this.lowCount]
      this.lowCount ++
      return result
    }

    peekFront() {
      if (this.isEmpty()) return undefined
      return this.items[this.lowCount]
    }

    isEmpty() {
      return this.size() === 0
    }

    size() {
      return this.count - this.lowCount
    }

    toString() {
      if (this.isEmpty()) return ''
      let str = `${this.items[this.lowCount]}`
      for (let i = this.lowCount + 1; i < this.count; i++) {
        str = `${str},${this.items[i]}`
      }
      return str
    }

    clear() {
      this.items = {}
      this.count = 0
      this.lowCount = 0
    }
  }

  const myQueue = new DouQueue()
  </script>
</body>
</html>